<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>APL Consulting ‚Äì Sistemas Digitais &amp; Automa√ß√£o</title>
  <meta name="description" content="APL Consulting desenvolve sistemas digitais e solu√ß√µes de automa√ß√£o para neg√≥cios exigentes. Otimizamos gest√£o, efici√™ncia e integra√ß√£o entre software, m√°quinas e motores." />

  <!-- Meta tags adicionais -->
  <meta name="theme-color" content="#05070b" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  
  <!-- Open Graph / Social Media -->
  <meta property="og:title" content="APL Consulting ‚Äì Sistemas Digitais & Automa√ß√£o" />
  <meta property="og:description" content="Desenvolvemos sistemas digitais e solu√ß√µes de automa√ß√£o para neg√≥cios exigentes." />
  <meta property="og:image" content="/logo-apl-branco.png" />
  <meta property="og:type" content="website" />
  <link rel="canonical" href="https://apl-consulting.com" />

  <!-- Seguran√ßa -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; base-uri 'self'; form-action 'self'; frame-ancestors 'self';" />
  <meta name="referrer" content="same-origin" />

  <link rel="icon" type="image/png" href="logo-apl-branco.png" />
  <link rel="shortcut icon" type="image/png" href="logo-apl-branco.png" />
  <link rel="apple-touch-icon" href="logo-apl-branco.png" />
  <link rel="preload" as="image" href="logo-apl-branco.png" />

  <style>
    :root {
      --bg: #05070b;
      --card-bg: rgba(16, 24, 40, 0.96);
      --card-border: rgba(148, 163, 184, 0.25);
      --blue1: #0078ff;
      --blue2: #00a0ff;
      --text-main: #e5edf9;
      --text-muted: #9ca3af;
      --shadow-strong: 0 32px 80px rgba(15, 23, 42, 0.95);
      --radius-xl: 28px;
      --radius-full: 999px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at top left, rgba(59, 130, 246, 0.35), transparent 55%),
        radial-gradient(circle at 80% 80%, rgba(16, 185, 129, 0.3), transparent 55%),
        radial-gradient(circle at 50% -10%, rgba(15, 23, 42, 0.8), transparent 60%),
        #020617;
      color: var(--text-main);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 32px 16px;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
    }

    main {
      width: 100%;
      display: flex;
      justify-content: center;
    }

    .card {
      position: relative;
      width: 100%;
      max-width: 760px;
      padding: 40px 32px 30px;
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      border: 1px solid var(--card-border);
      box-shadow: var(--shadow-strong);
      overflow: hidden;
      backdrop-filter: blur(18px);
      animation: cardIn 0.9s ease-out;
    }

    .card::before,
    .card::after {
      content: "";
      position: absolute;
      border-radius: 50%;
      filter: blur(40px);
      opacity: 0.55;
      pointer-events: none;
      z-index: -1;
    }

    .card::before {
      width: 220px;
      height: 220px;
      background: radial-gradient(circle, rgba(37, 99, 235, 0.6), transparent 60%);
      top: -60px;
      left: -60px;
    }

    .card::after {
      width: 260px;
      height: 260px;
      background: radial-gradient(circle, rgba(45, 212, 191, 0.45), transparent 60%);
      bottom: -90px;
      right: -70px;
    }

    header {
      text-align: center;
    }

    .logo-frame {
      width: 230px;
      height: 230px;
      margin: 0 auto 26px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    @media (prefers-reduced-motion: no-preference) {
      .logo-frame {
        animation: floatLogo 6s ease-in-out infinite;
      }
    }

    .logo-frame img {
      width: 72%;
      height: auto;
      aspect-ratio: 1;
      display: block;
      filter: drop-shadow(0 14px 40px rgba(15, 23, 42, 0.9));
      opacity: 0;
      transform: translateY(8px) scale(0.98);
      animation: logoFade 0.9s ease-out forwards 0.25s;
    }

    .eyebrow {
      text-align: center;
      letter-spacing: 0.28em;
      font-size: 0.72rem;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 12px;
    }

    .tagline {
      text-align: center;
      font-size: 0.9rem;
      color: var(--text-main);
      opacity: 0.85;
      margin-bottom: 26px;
      font-style: italic;
    }

    h1 {
      text-align: center;
      font-size: clamp(1.9rem, 2.25vw + 1.3rem, 2.4rem);
      margin-bottom: 14px;
      font-weight: 750;
      background: linear-gradient(120deg, var(--blue1), var(--blue2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing: 0.02em;
      text-shadow: 0 0 24px rgba(37, 99, 235, 0.65);
    }

    .lead {
      text-align: center;
      font-size: 0.98rem;
      color: var(--text-main);
      opacity: 0.9;
      max-width: 620px;
      margin: 0 auto 14px;
    }

    .body-text {
      text-align: center;
      font-size: 0.9rem;
      color: var(--text-muted);
      max-width: 630px;
      margin: 0 auto 26px;
      line-height: 1.6;
    }

    .cta-wrapper {
      display: flex;
      justify-content: center;
      margin-bottom: 22px;
    }

    .cta-button {
      position: relative;
      padding: 12px 30px;
      border-radius: var(--radius-full);
      border: none;
      font-size: 0.98rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      cursor: pointer;
      color: #020617;
      background: radial-gradient(circle at 20% 0%, #38bdf8, #0ea5e9 45%, #2563eb 100%);
      box-shadow:
        0 0 0 1px rgba(191, 219, 254, 0.35),
        0 18px 40px rgba(37, 99, 235, 0.9);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition:
        transform 0.18s ease-out,
        box-shadow 0.18s ease-out,
        filter 0.18s ease-out;
    }

    .cta-button span {
      position: relative;
      z-index: 1;
    }

    .cta-button::after {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: radial-gradient(circle at 30% 0%, rgba(255, 255, 255, 0.2), transparent 55%);
      opacity: 0;
      transition: opacity 0.18s ease-out;
    }

    .cta-button:hover {
      transform: translateY(-1px) scale(1.01);
      box-shadow:
        0 0 0 1px rgba(191, 219, 254, 0.45),
        0 22px 52px rgba(37, 99, 235, 0.95);
      filter: brightness(1.02);
    }

    .cta-button:hover::after {
      opacity: 1;
    }

    .cta-button:active {
      transform: translateY(0) scale(0.99);
      box-shadow:
        0 0 0 1px rgba(191, 219, 254, 0.25),
        0 10px 26px rgba(30, 64, 175, 0.8);
    }

    .lang-switch {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 14px;
    }

    .lang-btn {
      min-width: 46px;
      padding: 7px 14px;
      border-radius: var(--radius-full);
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at 50% 0%, rgba(148, 163, 184, 0.12), transparent 60%);
      color: var(--text-muted);
      font-size: 0.75rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      cursor: pointer;
      transition:
        background 0.18s ease-out,
        color 0.18s ease-out,
        border-color 0.18s ease-out,
        box-shadow 0.18s ease-out,
        transform 0.12s ease-out;
    }

    .lang-btn.active {
      background: radial-gradient(circle at 50% 0%, rgba(59, 130, 246, 0.45), rgba(37, 99, 235, 0.9));
      color: #e5edff;
      border-color: rgba(191, 219, 254, 0.95);
      box-shadow: 0 0 0 1px rgba(191, 219, 254, 0.3), 0 10px 26px rgba(37, 99, 235, 0.85);
      transform: translateY(-1px);
    }

    .lang-btn:hover:not(.active) {
      border-color: rgba(148, 163, 184, 0.9);
      color: #e5edff;
    }

    .accent-bar {
      position: relative;
      width: 64%;
      max-width: 420px;
      height: 1px;
      margin: 4px auto 0;
      background: linear-gradient(
        to right,
        transparent,
        rgba(148, 163, 184, 0.6),
        transparent
      );
      opacity: 0.75;
    }

    footer {
      margin-top: 18px;
    }

    .footer-text {
      text-align: center;
      font-size: 0.75rem;
      color: var(--text-muted);
      opacity: 0.7;
    }

    .toast {
      position: fixed;
      left: 50%;
      bottom: 24px;
      transform: translateX(-50%);
      background: rgba(15, 23, 42, 0.96);
      border-radius: 999px;
      padding: 8px 18px;
      font-size: 0.78rem;
      color: #e5edff;
      border: 1px solid rgba(148, 163, 184, 0.5);
      box-shadow: 0 14px 40px rgba(15, 23, 42, 0.9);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.25s ease-out, transform 0.25s ease-out;
      z-index: 40;
    }

    .toast.visible {
      opacity: 1;
      transform: translateX(-50%) translateY(-4px);
    }

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.75);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.22s ease-out;
      z-index: 30;
    }

    .modal-backdrop.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .modal {
      background: rgba(15, 23, 42, 0.97);
      border-radius: 20px;
      padding: 20px 22px 18px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      max-width: 360px;
      width: 100%;
      box-shadow: 0 18px 48px rgba(15, 23, 42, 0.95);
      position: relative;
    }

    .modal-title {
      font-size: 1.05rem;
      font-weight: 600;
      margin-bottom: 8px;
      text-align: center;
    }

    .modal-text {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 16px;
      text-align: center;
    }

    .modal-email-wrapper {
      text-align: center;
    }

    .modal-email {
      display: inline-block;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.65);
      background: radial-gradient(circle at 50% 0%, rgba(30, 64, 175, 0.35), rgba(15, 23, 42, 0.95));
      font-size: 0.86rem;
      cursor: pointer;
      user-select: text;
      color: #e5edff;
      margin-bottom: 6px;
      transition: border-color 0.18s ease-out, box-shadow 0.18s ease-out, background 0.18s ease-out;
    }

    .modal-email:hover {
      border-color: rgba(191, 219, 254, 0.9);
      box-shadow: 0 0 0 1px rgba(191, 219, 254, 0.35), 0 10px 26px rgba(37, 99, 235, 0.9);
    }

    .modal-email.copied {
      border-color: rgba(34, 197, 94, 0.8);
      background: radial-gradient(circle at 50% 0%, rgba(34, 197, 94, 0.35), rgba(15, 23, 42, 0.95));
    }

    .modal-hint {
      display: block;
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .modal-close {
      position: absolute;
      top: 8px;
      right: 10px;
      border: none;
      background: transparent;
      color: var(--text-muted);
      cursor: pointer;
      font-size: 1.1rem;
      line-height: 1;
      padding: 4px;
      transition: color 0.18s ease-out;
    }

    .modal-close:hover {
      color: #e5edff;
    }

    @keyframes cardIn {
      from {
        opacity: 0;
        transform: translateY(26px) scale(0.985);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    @keyframes floatLogo {
      0%   { transform: translateY(0); }
      50%  { transform: translateY(-8px); }
      100% { transform: translateY(0); }
    }

    @keyframes logoFade {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    @media (max-width: 640px) {
      .card {
        padding: 28px 18px 24px;
        border-radius: 22px;
        backdrop-filter: blur(8px);
      }

      .logo-frame {
        width: 190px;
        height: 190px;
        margin-bottom: 22px;
      }

      .body-text {
        font-size: 0.86rem;
      }

      .lead {
        font-size: 0.94rem;
      }

      .cta-button {
        width: 100%;
        max-width: 260px;
      }

      .accent-bar {
        width: 70%;
      }

      .modal {
        margin: 0 16px;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        scroll-behavior: auto !important;
        transition-duration: 0.01ms !important;
      }

      .logo-frame {
        animation: none !important;
      }
    }
  </style>
</head>
<body>
  <main>
    <section class="card" aria-labelledby="headline">
      <header>
        <div class="logo-frame">
          <img
            src="logo-apl-branco.png"
            alt="Log√≥tipo APL Consulting"
            width="512"
            height="512"
            decoding="async"
            loading="eager"
          />
        </div>

        <div class="eyebrow" id="eyebrow">
          SISTEMAS DIGITAIS &amp; AUTOMA√á√ÉO
        </div>
        <div class="tagline" id="tagline">
          Eficientemente movemos o mundo.
        </div>
      </header>

      <h1 id="headline">Brevemente dispon√≠vel</h1>

      <p class="lead" id="lead">
        A nossa nova plataforma digital APL Consulting est√° em constru√ß√£o.
        Otimizada para gest√£o, efici√™ncia e automatiza√ß√£o.
      </p>

      <p class="body-text" id="body">
        Desenvolvemos e gerimos sistemas digitais para neg√≥cios exigentes,
        automatizamos fluxos log√≠sticos e operacionais, e ligamos software,
        m√°quinas e motores para que tudo funcione como um √∫nico sistema.
      </p>

      <div class="cta-wrapper">
        <button class="cta-button" id="contactBtn" type="button">
          <span id="ctaLabel">Contacte-nos</span>
        </button>
      </div>

      <nav class="lang-switch" aria-label="Selecionar idioma">
        <button class="lang-btn active" data-lang="pt" type="button" aria-pressed="true">PT</button>
        <button class="lang-btn" data-lang="fr" type="button" aria-pressed="false">FR</button>
        <button class="lang-btn" data-lang="en" type="button" aria-pressed="false">EN</button>
      </nav>

      <div class="accent-bar"></div>

      <footer>
        <p class="footer-text" id="footerText">
          Primeira vers√£o p√∫blica prevista para 2026.
        </p>
      </footer>
    </section>
  </main>

  <div
    class="modal-backdrop"
    id="contactModal"
    aria-hidden="true"
  >
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="modal-close" id="modalClose" type="button" aria-label="Fechar">√ó</button>
      <h2 class="modal-title" id="modalTitle">Contacte-nos</h2>
      <p class="modal-text" id="modalText">
        Se n√£o tiver sido encaminhado automaticamente para a sua aplica√ß√£o de e-mail,
        utilize o endere√ßo abaixo.
      </p>
      <div class="modal-email-wrapper">
        <button class="modal-email" id="modalEmail" type="button">
          contact@apl-consulting.com
        </button>
        <small class="modal-hint" id="modalHint">
          Clique no endere√ßo para copiar para a √°rea de transfer√™ncia.
        </small>
      </div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">
    Endere√ßo de e-mail copiado para a √°rea de transfer√™ncia.
  </div>

  <!-- Fallback para browsers sem JavaScript -->
  <noscript>
    <style>
      .card { opacity: 1 !important; transform: none !important; }
      .lang-switch { display: none; }
      .cta-button { display: none; }
    </style>
    <div style="position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
                background:#1e3a8a;padding:12px 24px;border-radius:12px;
                text-align:center;font-size:0.9rem;max-width:90%;
                box-shadow:0 10px 40px rgba(0,0,0,0.5);">
      üìß <strong>contact@apl-consulting.com</strong>
    </div>
  </noscript>

  <script>
    (function () {
      const EMAIL = "contact@apl-consulting.com";

      const content = {
        pt: {
          eyebrow: "SISTEMAS DIGITAIS & AUTOMA√á√ÉO",
          tagline: "Eficientemente movemos o mundo.",
          headline: "Brevemente dispon√≠vel",
          lead:
            "A nossa nova plataforma digital APL Consulting est√° em constru√ß√£o. Otimizada para gest√£o, efici√™ncia e automatiza√ß√£o.",
          body:
            "Desenvolvemos e gerimos sistemas digitais para neg√≥cios exigentes, automatizamos fluxos log√≠sticos e operacionais, e ligamos software, m√°quinas e motores para que tudo funcione como um √∫nico sistema.",
          footer: "Primeira vers√£o p√∫blica prevista para 2026.",
          toast: "Endere√ßo de e-mail copiado para a √°rea de transfer√™ncia.",
          copied: "‚úì Copiado!",
          contactSubject: "Contacto APL Consulting",
          modalTitle: "Contacte-nos",
          modalText:
            "Se n√£o tiver sido encaminhado automaticamente para a sua aplica√ß√£o de e-mail, utilize o endere√ßo abaixo.",
          modalHint: "Clique no endere√ßo para copiar para a √°rea de transfer√™ncia.",
          title: "APL Consulting ‚Äì Sistemas Digitais & Automa√ß√£o",
          description:
            "APL Consulting desenvolve sistemas digitais e solu√ß√µes de automa√ß√£o para neg√≥cios exigentes. Otimizamos gest√£o, efici√™ncia e integra√ß√£o entre software, m√°quinas e motores.",
          cta: "Contacte-nos"
        },
        fr: {
          eyebrow: "SYST√àMES NUM√âRIQUES & AUTOMATISATION",
          tagline: "Nous faisons avancer le monde avec efficacit√©.",
          headline: "Bient√¥t disponible",
          lead:
            "Notre nouvelle plateforme digitale APL Consulting est en construction. Optimis√©e pour la gestion, l'efficacit√© et l'automatisation.",
          body:
            "Nous concevons et pilotons des syst√®mes digitaux pour des environnements exigeants, automatisons les flux logistiques et op√©rationnels, et connectons logiciels, machines et moteurs pour que l'ensemble fonctionne comme un seul syst√®me.",
          footer: "Premi√®re version publique pr√©vue pour 2026.",
          toast: "Adresse e-mail copi√©e dans le presse-papiers.",
          copied: "‚úì Copi√© !",
          contactSubject: "Contact APL Consulting",
          modalTitle: "Contactez-nous",
          modalText:
            "Si votre client de messagerie ne s'est pas ouvert automatiquement, utilisez l'adresse ci-dessous.",
          modalHint: "Cliquez sur l'adresse pour la copier dans le presse-papiers.",
          title: "APL Consulting ‚Äì Syst√®mes num√©riques & automatisation",
          description:
            "APL Consulting con√ßoit des syst√®mes digitaux et des solutions d'automatisation pour des environnements exigeants. Nous optimisons la gestion, l'efficacit√© et l'int√©gration entre logiciels, machines et moteurs.",
          cta: "Contactez-nous"
        },
        en: {
          eyebrow: "DIGITAL SYSTEMS & AUTOMATION",
          tagline: "We move the world efficiently.",
          headline: "Coming soon",
          lead:
            "Our new APL Consulting digital platform is under construction. Optimised for management, efficiency and automation.",
          body:
            "We design and operate digital systems for demanding businesses, automate logistical and operational flows, and connect software, machines and engines so that everything runs as a single system.",
          footer: "First public release planned for 2026.",
          toast: "Email address copied to clipboard.",
          copied: "‚úì Copied!",
          contactSubject: "Contact ‚Äì APL Consulting",
          modalTitle: "Contact us",
          modalText:
            "If your e-mail application did not open automatically, use the address below.",
          modalHint: "Click the address to copy it to your clipboard.",
          title: "APL Consulting ‚Äì Digital systems & automation",
          description:
            "APL Consulting develops digital systems and automation solutions for demanding businesses. We optimise management, efficiency and integration between software, machines and engines.",
          cta: "Contact us"
        }
      };

      const eyebrowEl = document.getElementById("eyebrow");
      const taglineEl = document.getElementById("tagline");
      const headlineEl = document.getElementById("headline");
      const leadEl = document.getElementById("lead");
      const bodyEl = document.getElementById("body");
      const footerEl = document.getElementById("footerText");
      const toastEl = document.getElementById("toast");

      const contactBtn = document.getElementById("contactBtn");
      const ctaLabelEl = document.getElementById("ctaLabel");
      const langButtons = document.querySelectorAll(".lang-btn");

      const modalBackdrop = document.getElementById("contactModal");
      const modalTitleEl = document.getElementById("modalTitle");
      const modalTextEl = document.getElementById("modalText");
      const modalHintEl = document.getElementById("modalHint");
      const modalEmailEl = document.getElementById("modalEmail");
      const modalCloseBtn = document.getElementById("modalClose");

      const metaDescription = document.querySelector('meta[name="description"]');
      const metaOgTitle = document.querySelector('meta[property="og:title"]');
      const metaOgDescription = document.querySelector('meta[property="og:description"]');

      let lastFocusedElement = null;

      function setLanguage(lang) {
        if (!content[lang]) {
          lang = "en";
        }

        const data = content[lang];

        eyebrowEl.textContent = data.eyebrow;
        taglineEl.textContent = data.tagline;
        headlineEl.textContent = data.headline;
        leadEl.textContent = data.lead;
        bodyEl.textContent = data.body;
        footerEl.textContent = data.footer;
        toastEl.textContent = data.toast;
        ctaLabelEl.textContent = data.cta;

        modalTitleEl.textContent = data.modalTitle;
        modalTextEl.textContent = data.modalText;
        modalHintEl.textContent = data.modalHint;
        modalEmailEl.textContent = EMAIL;

        document.documentElement.lang = lang;

        if (data.title) {
          document.title = data.title;
        }
        if (metaDescription && data.description) {
          metaDescription.setAttribute("content", data.description);
        }
        if (metaOgTitle && data.title) {
          metaOgTitle.setAttribute("content", data.title);
        }
        if (metaOgDescription && data.description) {
          metaOgDescription.setAttribute("content", data.description);
        }

        langButtons.forEach((btn) => {
          const isActive = btn.dataset.lang === lang;
          btn.classList.toggle("active", isActive);
          btn.setAttribute("aria-pressed", String(isActive));
        });

        try {
          localStorage.setItem("apl_lang", lang);
        } catch (e) {
          // localStorage n√£o dispon√≠vel
        }
      }

      function showToast() {
        toastEl.classList.add("visible");
        clearTimeout(showToast._timer);
        showToast._timer = setTimeout(() => {
          toastEl.classList.remove("visible");
        }, 2400);
      }

      function getModalFocusableElements() {
        return modalBackdrop.querySelectorAll(
          'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
        );
      }

      function handleModalKeydown(event) {
        if (event.key === "Escape") {
          event.preventDefault();
          closeModal();
          return;
        }

        if (event.key === "Tab") {
          const focusable = getModalFocusableElements();
          if (!focusable.length) return;

          const first = focusable[0];
          const last = focusable[focusable.length - 1];

          if (event.shiftKey) {
            if (document.activeElement === first) {
              event.preventDefault();
              last.focus();
            }
          } else {
            if (document.activeElement === last) {
              event.preventDefault();
              first.focus();
            }
          }
        }
      }

      function openModal() {
        lastFocusedElement = document.activeElement;

        modalBackdrop.classList.add("visible");
        modalBackdrop.setAttribute("aria-hidden", "false");

        const focusable = getModalFocusableElements();
        if (focusable.length) {
          focusable[0].focus();
        }

        document.addEventListener("keydown", handleModalKeydown);
      }

      function closeModal() {
        modalBackdrop.classList.remove("visible");
        modalBackdrop.setAttribute("aria-hidden", "true");

        document.removeEventListener("keydown", handleModalKeydown);

        if (lastFocusedElement && typeof lastFocusedElement.focus === "function") {
          lastFocusedElement.focus();
        }
      }

      async function copyEmailToClipboard(event) {
        if (event) {
          event.stopPropagation();
        }

        const originalText = modalEmailEl.textContent;
        
        // Obter idioma atual
        const currentLang = document.documentElement.lang || "en";
        const data = content[currentLang] || content.en;

        try {
          await navigator.clipboard.writeText(EMAIL);
          
          // Feedback visual de sucesso com texto traduzido
          modalEmailEl.textContent = data.copied;
          modalEmailEl.classList.add("copied");
          
          showToast();
          
          setTimeout(() => {
            modalEmailEl.textContent = originalText;
            modalEmailEl.classList.remove("copied");
          }, 2000);
        } catch (err) {
          // Fallback: selecionar texto para c√≥pia manual
          try {
            const range = document.createRange();
            range.selectNodeContents(modalEmailEl);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
          } catch (selectErr) {
            // Se nada funcionar, pelo menos o user v√™ o email
          }
        }
      }

      function handleContactClick() {
        const lang = document.documentElement.lang || "en";
        const data = content[lang] || content.en;

        const subject = encodeURIComponent(data.contactSubject);
        const mailtoUrl = `mailto:${EMAIL}?subject=${subject}`;

        // Tentar abrir mailto
        window.location.href = mailtoUrl;

        // Mostrar modal ap√≥s pequeno delay (assume que mailto pode n√£o funcionar)
        setTimeout(() => {
          openModal();
        }, 500);
      }

      contactBtn.addEventListener("click", handleContactClick);

      langButtons.forEach((btn) => {
        btn.addEventListener("click", () => setLanguage(btn.dataset.lang));
      });

      modalCloseBtn.addEventListener("click", closeModal);
      modalBackdrop.addEventListener("click", (e) => {
        if (e.target === modalBackdrop) closeModal();
      });

      modalEmailEl.addEventListener("click", copyEmailToClipboard);

      // Intersection Observer para pausar anima√ß√£o do logo quando fora de vista
      if ('IntersectionObserver' in window && window.matchMedia('(prefers-reduced-motion: no-preference)').matches) {
        const logoFrame = document.querySelector('.logo-frame');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.target.style.animationPlayState !== undefined) {
              entry.target.style.animationPlayState = entry.isIntersecting ? 'running' : 'paused';
            }
          });
        });
        observer.observe(logoFrame);
      }

      // Inicializar idioma
      (function initLang() {
        let initialLang = "en"; // Default para ingl√™s

        try {
          // Primeiro verificar se h√° idioma guardado
          const stored = localStorage.getItem("apl_lang");
          if (stored && content[stored]) {
            initialLang = stored;
          } else {
            // Detectar idioma do browser
            const browserLang = (navigator?.language || navigator?.userLanguage || "en").toLowerCase();
            
            if (browserLang.startsWith("pt")) {
              initialLang = "pt";
            } else if (browserLang.startsWith("fr")) {
              initialLang = "fr";
            } else {
              // Qualquer outro idioma (√°rabe, chin√™s, espanhol, alem√£o, etc.) ‚Üí ingl√™s
              initialLang = "en";
            }
          }
        } catch (e) {
          // Se localStorage falhar, tentar apenas detec√ß√£o de browser
          const browserLang = (navigator?.language || navigator?.userLanguage || "en").toLowerCase();
          
          if (browserLang.startsWith("pt")) {
            initialLang = "pt";
          } else if (browserLang.startsWith("fr")) {
            initialLang = "fr";
          } else {
            initialLang = "en";
          }
        }

        setLanguage(initialLang);
      })();
    })();
  </script>

  <!-- Developed by Alexandre Pereira Leite | APL Consulting ¬© 2025 -->
</body>
</html>
